KISSY.Editor.add("templates",function(h){var a=KISSY.Editor,i=KISSY,k=i.Node,l=a.TripleButton,m=a.SimpleOverlay;a.TplUI||function(){function j(b){this.editor=b;this._init()}i.augment(j,{_init:function(){(new l({container:this.editor.toolBarDiv,contentCls:"ke-toolbar-template",title:"\u6a21\u677f"})).on("click",this._show,this);a.Utils.lazyRun(this,"_prepare","_real")},_prepare:function(){for(var b=this.editor,f=b.cfg.pluginConfig.templates,c="<div class='ke-tpl'>",g=0;g<f.length;g++)c+="<a href='javascript:void(0)' class='ke-tpl-list' tabIndex='-1'>"+
f[g].demo+"</a>";c+="</div>";this._initDialogOk=true;var d=new m({mask:true,title:"\u5185\u5bb9\u6a21\u677f"});d.body.html(c);c=d.body.all(".ke-tpl-list");d.on("hide",function(){b.focus()});c.on("click",function(e){e.halt();e=(new k(e.target))._4e_index();e!=-1&&b.insertHtml(f[e].html);d.hide()});this.ui=d},_real:function(){this.ui.show()},_show:function(){this._prepare()}});a.TplUI=j}();h.addPlugin(function(){new a.TplUI(h)})});
