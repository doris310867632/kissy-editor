KISSY.add("editor",function(c,l){function f(d,n){var g=this;if(!(g instanceof f))return new f(d,n);if(c.isString(d))d=c.one(d);d[0]||(d=new Node(d));g.cfg=n;c.app(g,c.EventTarget);g.use=function(r){c.use.call(g,r,function(){g.on("dataReady",function(){g.setData(d.val())})},{order:true,global:f})};g.init(d)}function k(d){if(!o)return"build/"+d.replace(/\.(js|css)/i,"-min.$1");if(o==="dev")return d;return"build/"+d}c.app(f,c.EventTarget);f.Config.base=c.Config.base+"editor/";var o=c.Config.debug,i=
{htmlparser:{attach:false,path:k("plugins/htmldataprocessor/htmlparser/htmlparser.js")}},m=["utils","focusmanager","definition","dtd","dom","elementpath","walker","range","domiterator","selection","styles"],p=["clipboard",{name:"color",useCss:true},{name:"elementpaths",useCss:true},"enterkey","fakeobjects",{name:"flash",requires:["fakeobjects","overlay"]},"font","format",{name:"htmldataprocessor",requires:["htmlparser-text"]},{name:"image",requires:["overlay"]},"indent","justify","link","list","maximize",
"music","preview","removeformat",{name:"smiley",useCss:true},"sourcearea",{name:"table",useCss:true,requires:["overlay","contextmenu"]},{name:"templates",requires:["overlay"],useCss:true},"undo"],q=[{name:"htmlparser-basicwriter",requires:["htmlparser"]},{name:"htmlparser-element",requires:["htmlparser-fragment"]},{name:"htmlparser-filter",requires:["htmlparser-element"]},{name:"htmlparser-fragment",requires:["htmlparser-htmlwriter"]},{name:"htmlparser-htmlwriter",requires:["htmlparser-basicwriter"]},
{name:"htmlparser-text",requires:["htmlparser-filter"]}],j=["button","overlay",{name:"contextmenu",requires:["overlay"]}],b,h,a,e;b=0;for(h=j.length;b<h;b++){a=j[b];e=l;if(!c.isString(a)){e=a.requires;a=a.name}i[a]={attach:false,requires:e,path:k("ui/"+a+".js"),csspath:k("ui/"+a+".css")}}b=0;for(h=p.length;b<h;b++){j=a=p[b];e=["button"];if(!c.isString(a)){a.requires&&(e=e.concat(a.requires));j=a.name}i[j]={attach:false,requires:e,csspath:a.useCss?k("plugins/"+j+"/plugin.css"):l,path:k("plugins/"+
j+"/plugin.js")}}b=0;for(h=q.length;b<h;b++){a=q[b];e=l;if(!c.isString(a)){e=a.requires;a=a.name}i[a]={attach:false,requires:e,path:k("plugins/htmldataprocessor/htmlparser/"+a.substring(11)+".js")}}f.add(i);i={};b=0;for(h=m.length;b<h;b++){a=m[b];i[a]={host:"editor",requires:b>0?m[b-1]:[]}}f.add(i);c.Editor=f});
